{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>

<!-- Conditions (if-else) -->
{% if user.is_authenticated %}
<p>Welcome back, {{ user.name }}!</p>
{% else %}
<p>Hello, Guest. Please log in.</p>
{% endif %}

<!-- Loop over a list (for) -->
<h2>Product List</h2>
<ul>
    {% for product in products %}
    <li>
        {{ product.name }} - ${{ product.price }}
    </li>
    {% else %}
    <li>No products available.</li>
    {% endfor %}
</ul>

<!-- Loop with index -->
<h2>Top 3 Articles</h2>
<ol>
    {% for article in articles %}
    <li>
        {{ loop.index }}. {{ article.title }} ({{ article.date.strftime('%Y-%m-%d') }})
    </li>
    {% endfor %}
</ol>

<!-- Safe rendering (raw HTML content) -->
<h2>About Us</h2>
<div>
    {{ about_us_html | safe }}
</div>

<!-- Filters -->
<h2>Filters</h2>
<p>
    Uppercase example: {{ user.name | upper }} <br>
    Default value: {{ user.bio | default("This user has no bio.") }}
</p>

<!-- Macros -->
{% macro render_item(item) %}
<div>
    <strong>{{ item.name }}</strong> - ${{ item.price }}
</div>
{% endmacro %}

<h2>Recommended Items</h2>
<div>
    {% for item in recommended_items %}
    {{ render_item(item) }}
    {% endfor %}
</div>

<!-- Including another template -->
<h2>Footer</h2>
{% include "footer.html" %}
{% endblock %}